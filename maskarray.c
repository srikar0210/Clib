/*******************************************************************************
* $File: maskarray.c$
* $Revision: 2$
* $Author: Paul.Hoogeveen$
* $Date: vrijdag 17 oktober 2014 13:12:39$
*******************************************************************************/
/*******************************************************************************
* Includes
*******************************************************************************/
#include "maskarray.h"

/*******************************************************************************
* Definitions
*******************************************************************************/

/*******************************************************************************
* Types
*******************************************************************************/

/*******************************************************************************
* Prototypes
*******************************************************************************/

/*******************************************************************************
* Global variables
*******************************************************************************/

/*******************************************************************************
* EEPROM variables
*******************************************************************************/

/*******************************************************************************
* Local variables
*******************************************************************************/

/*******************************************************************************
* Local functions
*******************************************************************************/

/*******************************************************************************
* Global functions
*******************************************************************************/
void PutBitMask16 (uint16_t * ar, uint16_t ix, bool val)
{
	uint16_t pos = ix & 0x000F;
	ix >>= 4;
	pos = 1U << pos;
	ar += ix;
	if (val)
		*ar |= pos;
	else
		*ar &= ~pos;
}

bool GetBitMask16 (const uint16_t * ar, uint16_t ix)
{
	uint16_t pos = ix & 0x000F;
	ix >>= 4;
	pos = 1U << pos;
	ar += ix;
	return((*ar & pos) == pos);
}

void PutBitMask32 (uint32_t * ar, uint16_t ix, bool val)
{
	uint32_t pos = ix & 0x001F;
	ix >>= 5;
	pos = 1UL << pos;
	ar += ix;
	if (val)
		*ar |= pos;
	else
		*ar &= ~pos;
}

bool GetBitMask32 (const uint32_t * ar, uint16_t ix)
{
	uint32_t pos = ix & 0x001F;
	ix >>= 5;
	pos = 1UL << pos;
	ar += ix;
	return((*ar & pos) == pos);
}


